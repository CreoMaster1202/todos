{% extends "main.html" %}
{% block content %}

    <ul id="lists">
        {% for list in lists %}
            <li class="todo-list" data-id="{{ list.id }}">
                <h2>{{ list.name }}</h2>
                <div class="editcard" style="display: none;">
                    <form class="edit-list-form">
                        <textarea required name="name">{{ list.name }}</textarea>
                        <button type="submit">Save</button>
                    </form>
                    <form class="delete-list-form">
                        <button type="submit">Delete</button>
                    </form>
                </div>
                <ul class="items">
                    {% for item in list.items %}
                        <li data-id="{{ item.id }}">
                            {{ item.description }}
                            <input type="checkbox" class="item-checkbox" {% if item.checked %}checked{% endif %}>
                            <div class="editcard" style="display: none;">
                                <form class="edit-item-form">
                                    <textarea required name="description" placeholder="edit me...">{{ item.description }}</textarea>
                                    <button type="submit">Save</button>
                                </form>
                                <form class="delete-item-form">
                                    <button type="submit">Delete</button>
                                </form>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
                <form class="add-item-form">
                    <textarea required name="description" placeholder="Item description"></textarea>
                    <button type="submit">Add Item</button>
                </form>
            </li>
        {% endfor %}
    </ul>

    <form id="add-list-form">
        <textarea required name="name" placeholder="List name"></textarea>
        <button type="submit">Add List</button>
    </form>
    <script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <script defer src="static/js/msnry.js"></script>

{% endblock %}
